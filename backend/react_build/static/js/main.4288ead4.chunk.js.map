{"version":3,"sources":["ChatBubble.js","Chatbox.js","Login.js","App.js","index.js"],"names":["Bubble","console","log","this","props","d","Date","time","times","toLocaleDateString","split","slice","join","toLocaleTimeString","f","filter","name","className","type","style","whiteSpace","message","React","Component","io","sc","welcome","Chat","state","send","bind","add","$","ajax","method","url","BACKEND","data","localStorage","getItem","success","verified","setState","emit","removeItem","login","error","post","map","m","from","includes","push","to","length","on","messages","concat","friends","scrollTop","scrollHeight","disconnect","usr","val","find","e","target","value","last","r","substr","mess","setTimeout","payload","now","dta","fpop","id","flex","maxWidth","overflowX","fontSize","fontWeight","onClick","pop","placeholder","marginBottom","adderr","list","margin","b","results","focus","inv_usr","paddingTop","boxSizing","minHeight","onInput","minWidth","fontFamily","Login","innerText","preventDefault","prop","trim","replace","SHA1","toString","token","setItem","form","onSubmit","required","width","alignSelf","marginTop","signup","window","open","tabsw","color","App","l","isAuth","comp","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4288ead4.chunk.js","sourcesContent":["import React from 'react'\nimport './styles.css'\nclass Bubble extends React.Component{\n\n    \n\n    \n    componentDidUpdate(){\n        console.log(this.props)\n    }\n\n    render(){\n        let d=new Date(this.props.time)\n        let times=d.toLocaleDateString().split('/').slice(0,2).join('/')\n        times+=' '+d.toLocaleTimeString().split(':').slice(0,2).join(':')\n        let f=this.props.filter=='All' || this.props.filter==this.props.name\n       \n\n        return(\n            \n            <div className={this.props.type=='sen'?'bubble sen':'bubble'} style={{'display':f?'block':'none'}} >\n            <div style={{'fontWeight':'bold'}}>\n                {this.props.type=='sen' && <span className='material-icons' style={{'fontSize':'1em'}}>keyboard_arrow_right</span>}\n                {this.props.name} | {times} </div>\n            <span style={{whiteSpace:'pre-wrap'}}>{this.props.message}</span>\n            </div>\n    \n                \n           \n           \n        )\n    }\n}\n\nexport default Bubble","import React from 'react'\nimport qs from'query-string'\nimport sc from 'socket.io-client'\nimport $ from 'jquery'\nimport './styles.css'\nimport Bubble from './ChatBubble'\n\n\nlet BACKEND='/'\n\nvar io=sc(BACKEND);\n\n\nconst welcome=(\n    <div style={{'margin':'auto','padding':'10px'}}>\n\n    Tap <span className='material-icons'>add_circle</span> button to add friends and start chatting.\n    <br/><br/>\n    Use <strong>@someone message-text</strong> to send messages\n</div>)\n\n\n\n\n\nclass Chat extends React.Component{\n\n    constructor(props){\n        super(props)\n        this.state={'name':'','pop':'none','fpop':'none','friends':[],'messages':[],'last':'','loading':true,'filter':'All'}\n        this.send=this.send.bind(this)\n        this.add=this.add.bind(this)\n        this.type=this.type.bind(this)\n        this.filter=this.filter.bind(this)\n    }\n\n    \n    componentDidMount(){\n        \n        $.ajax({\n            method:'post',\n            url:BACKEND+'check',\n            data:{'token':localStorage.getItem('token')},\n            success:(data)=>{\n               // console.log(data)\n                if(!data.verified){\n                    localStorage.removeItem('token')\n                    this.props.login(false)\n                }\n                else{\n                    this.setState({'name':data.name})\n                    io.emit('join',{'name':this.state.name})\n                }\n            },\n            error:(data)=>{\n                /*localStorage.removeItem('token')\n                this.props.login(false);*/\n            }\n        })\n\n\n\n\n        $.post(BACKEND+'fetch',{'token':localStorage.getItem('token')},(data)=>{\n            //console.log(data)\n            if(data.error){\n                /*localStorage.removeItem('token')\n                this.props.login(false);*/\n            }\n            var f=[]\n            let b=data.map((m)=>{\n                if(m.from!=this.state.name && !f.includes(m.from))\n                    f.push(m.from)\n                    \n                if(m.to!=this.state.name && !f.includes(m.to))\n                    f.push(m.to)\n            })\n            \n            \n\n\n\n\n            this.setState({'messages':data,'friends':f,'last':f[f.length-1]})\n            if(data.length==0)\n                this.setState({'welcome':welcome})\n            else\n                this.setState({'welcome':<div></div>})\n\n        \n        \n\n            //console.log(data)\n\n        })\n\n\n        \n\n        \n\n        io.on('msg',(m)=>{\n           \n            this.setState({'messages':this.state.messages.concat(m)})\n            if(!this.state.friends.includes(m.from)){\n                this.setState({'friends':this.state.friends.concat(m.from)})\n            }\n            this.setState({'last':m.from})\n        })\n\n        $('.main').scrollTop($('.main')[0].scrollHeight)\n\n\n        $('.material-icons').on('mousedown',()=>{\n            return false;\n        })\n\n        $('.material-icons').on('selectstart',()=>{\n            return false;\n        })\n\n\n    }\n    \n\n    componentDidUpdate(){\n\n        if(this.state.welcome==welcome && this.state.messages.length>0)\n            this.setState({'welcome':<div></div>})\n\n        //console.log(this.state.filter)\n        //console.log('update',this.state.messages)\n        $('.main').scrollTop($('.main')[0].scrollHeight)\n       \n    }\n\n    componentWillUnmount(){\n        io.disconnect();\n    }\n\n    add(){\n        let usr=$('.add > input').val()\n       $.post(BACKEND+'usr',{'usr':usr},(data)=>{\n        if(data){\n            if(!this.state.friends.find((e)=>e==usr)){\n                this.setState({'friends':this.state.friends.concat(usr),'last':usr})\n            }\n            this.setState({'adderr':<strong>User added successfully<br/>You can use <em>@{usr}</em> to chat with <em>{usr} </em></strong>})\n        }else\n        this.setState({'adderr':<strong>User not found</strong>})\n           \n       })\n\n        \n    }\n\n   \n\n    type(e){\n\n        if(!e.target.value){\n            this.setState({'results':[]})\n            return\n        }\n       \n        let friends=this.state.friends\n        if(e.target.value && e.target.value[0]!='@'){\n            e.target.value='@'+this.state.last+' '+e.target.value\n            \n        }\n        //console.log(e.target.value.substr(1))\n        let r=friends.filter((f)=>{\n            if(f.substr(0,e.target.value.length-1)==e.target.value.substr(1))\n                return true\n            else\n                return false\n        })\n        //console.log(r)\n        this.setState({'results':r})\n       \n    }\n\n\n    send(){\n        if(!$('#mess').val())\n            return\n\n        var to=$('#mess').val().split(' ')[0].substr(1)\n        var mess=$('#mess').val().split(' ').slice(1).join(' ')\n\n        if(!this.state.friends.find((e)=>e==to)){\n            this.setState({'inv_usr':true})\n            setTimeout(() => {\n                this.setState({'inv_usr':false})\n            }, 1500);\n            return\n        }\n\n\n        let payload={'token':localStorage.getItem('token'),\n                'dta':{'from':this.state.name,\n                    'to':to,\n                    'message':mess,\n                    'time':Date.now()}\n            }\n\n       //console.log(payload)\n        \n        \n        \n        this.setState({'messages':this.state.messages.concat(payload.dta),'last':to})\n        $('#mess').val('')\n\n        $.post(BACKEND+'send',payload,(data)=>{\n            if(data.error){\n                ;\n                /*localStorage.removeItem('token')\n                this.props.login(false);*/\n\n            }\n\n        })\n\n\n        \n    }\n   \n\n    filter(){\n        //console.log($('#filter input').val())\n        if($('#filter input').val()=='')\n            this.setState({'filter':'All',fpop:'none'})\n        else if($('#filter input').val()=='All' || this.state.friends.includes($('#filter input').val()))\n            this.setState({'filter':$('#filter input').val(),fpop:'none'})\n        else{\n            this.setState({'inv_usr':true,fpop:'none'})\n            setTimeout(()=>this.setState({'inv_usr':false}),1500)\n        }\n\n    }\n\n\n    \n\n    render(){\n        \n       \n       \n\n\n        return(\n            <div id='rooot'>\n               {/*<div style={{'height':'100vh','width':'100%','position':'fixed','zIndex':'-1'}}></div>*/}\n             <div className='chatwin'>\n             \n                \n              \n                 <div className='top'>\n\n                <span style={{'margin':'10px',flex:'10','fontFamily':\"'Poppins', sans-serif\",'fontWeight':'400','fontSize':'1.2em',maxWidth:'70%',overflowX:'hidden'}}>{this.state.name}</span>\n\n                 <span className='material-icons' style={{'margin':'10px ',flex:'1','cursor':'pointer',fontSize:'1.8em',fontWeight:'200'}} onClick={()=>{localStorage.removeItem('token');this.props.login(false)}}>power_settings_new</span>\n\n                 <span className='material-icons' style={{'margin':'10px',flex:'1','cursor':'pointer',fontWeight:'200',fontSize:'1.8em'}} onClick={()=>{if(this.state.pop=='none')this.setState({'fpop':this.state.fpop=='none'?'flex':'none'})}}> filter_list </span>\n\n                 <span className='material-icons' style={{'margin':'10px',flex:'1','cursor':'pointer',fontWeight:'200',fontSize:'1.8em'}} onClick={()=>{if(this.state.fpop=='none')this.setState({'pop':this.state.pop=='none'?'flex':'none','adderr':''})}}> add_circle </span>\n                <span className='material-icons ' style={{'margin':'10px',flex:'1','cursor':'pointer',fontWeight:'200',fontSize:'1.8em'}} onClick={()=>$('.main').scrollTop($('.main')[0].scrollHeight)}> keyboard_arrow_down </span>\n                 \n                 </div>\n                 <div className='main' >\n                 <div className='add'style={{'display':this.state.pop}}>\n                     <input type='text' placeholder='Search for users' className='inp' style={{'flex':'3',marginBottom:'10px'}}/>\n                     <button className='button' onClick={this.add} style={{'flex':'1',}}>Add</button>\n                     {this.state.adderr && <span style={{'width':'100%','margin':'10px'}}>{this.state.adderr}</span>}\n                 </div>\n\n\n\n\n                 <div id='filter' className='add'style={{'display':this.state.fpop}}>\n                     <datalist id='ffriends'>\n                         <option value='All'></option>\n                         {this.state.friends.map((f)=>{\n                            return <option value={f}></option>\n                         })}\n                     </datalist>\n                     <input type='search' list='ffriends' placeholder='Search for users' className='inp' style={{'flex':'3',marginBottom:'10px'}}/>\n                     <button className='button' onClick={this.filter} style={{'flex':'1',}}>Filter</button>\n                     \n                 </div>\n\n                \n                    {this.state.welcome}\n                    {!this.state.welcome &&\n                    <div style={{margin:'auto'}}>\n                        Getting Messages ...\n                    </div>\n                    \n                    }\n\n                   {this.state.messages.map((b)=>{\n                       return (<Bubble  name={this.state.name==b.from?b.to:b.from} type={this.state.name==b.from?'sen':'rec'}\n                                time={b.time} message={b.message} filter={this.state.filter}/>)\n                   })}\n                   \n\n                 </div>\n\n\n                 <div className='suggestions'>\n                         {this.state.results && this.state.results.map((r)=>{\n                             return(<div onClick={()=>{$('#mess').val('@'+r+' ');$('#mess').focus();this.setState({'results':[]})}}>{'@'+r}</div>)\n                         })}\n                    </div>\n\n                {this.state.last &&  <div className='bottom'>\n                    \n                    {this.state.inv_usr && \n                    <span style={{'width':'100%','padding':'10px 0px','color':'red'}}>Invalid User</span>\n                    }\n\n                     \n\n                  \n\n                     <textarea className='inp' id='mess' placeholder={'@'+this.state.last+' '}  style={{flex:'1',paddingTop:'8px',boxSizing:'border-box',minHeight:'40px'}} onInput={this.type}/>\n\n                         \n                  \n\n                     <button id='send' className='button'\n                     style={{'width':'auto','height':'40px',minWidth:'60px','float':'right',\n                     fontFamily:\"'Open Sans',sans-serif\",fontWeight:'700',fontSize:'1.8em'}} onClick={this.send}>\n                    \n\n                    <span className='material-icons large'>send</span></button>\n\n                    \n                        \n                 </div> }\n\n                </div>\n                 \n\n             </div>\n               \n            \n        \n        )\n    }\n}\n\nexport default Chat","import React from 'react'\nimport $ from 'jquery'\nimport './styles.css'\nimport SHA1 from 'crypto-js/sha1'\n\nlet BACKEND='/'\n\nclass Login extends React.Component{\n\n    constructor(){\n        super()\n        this.state={'login':true,'error':''}\n    }\n\n    \n   \n\n\n    tabsw(e){\n        if(e.target.innerText=='Login')\n           this.setState({'login':true,'error':''})\n        else\n            this.setState({'login':false,'error':''})\n        \n        //console.log(e.target)\n    }\n\n    login(e){\n        e.preventDefault();\n        $('.button').prop('disabled',true)\n        $.ajax(\n            {\n            method:'post',\n            url:BACKEND+'login',\n            data:{'name':$('#un').val().trim().replace(' ','_'),'pwd':SHA1($('#pwd').val()).toString()},\n            success:(data)=>{\n                //console.log(data)\n                    if(data.token){\n                        \n                        localStorage.setItem('token',data.token)\n                        this.props.login(true)\n                    }\n                    else{\n                        this.setState({'error':data.error})\n                        $('.button').prop('disabled',false)\n                    }\n            }\n            }\n        )\n        \n    }\n\n    signup(e){\n        e.preventDefault()\n        \n        \n        if($('#pwds').val()!=$('#pwdc').val()){\n            this.setState({'error':\"Passwords don't match\"})\n            return\n        }\n\n        $('.button').prop('disabled',true)\n\n        $.ajax({\n            method:'post',\n            url:BACKEND+'signup',\n            data:{'name':$('#uns').val().trim().replace(' ','_'),'pwd':SHA1($('#pwds').val()).toString()},\n            success:(data)=>{\n                if(data.error){\n                    this.setState({'error':'user already exists'})\n                    $('.button').prop('disabled',false)\n                }\n                else{\n                    localStorage.setItem('token',data.token)\n                    this.props.login(true)\n                    \n                }\n                   \n            }\n        })\n        \n        \n        \n    }\n\n    render(){\n        let form;\n        if(this.state.login){\n            form=(\n                <form className='inner' onSubmit={e=>this.login(e)}>\n                    <input name='name' type='text' id='un' className='inp' placeholder='Username' required style={{'marginTop':'10px'}}/>\n                    <input name='name' type='password' id='pwd' className='inp' placeholder='Password' required style={{'marginTop':'10px'}} />\n                    <input type='submit' className='button' value='Login'style={{width:'40%',minWidth:'150px',alignSelf:'center',marginTop:'20px'}}/>\n                </form>\n            )\n        }else{\n            form=(\n                <form className='inner' onSubmit={e=>this.signup(e)}>\n                <input name='names' type='text' id='uns' className='inp' placeholder='Username' required style={{'marginTop':'10px'}}/>\n                <input name='pwds' type='password' id='pwds' className='inp' placeholder='Password' required style={{'marginTop':'10px'}}/><span></span>\n                <input name='pwdc' type='password' id='pwdc' className='inp' placeholder='Confirm Password' required style={{marginTop:'10px'}}/>\n                <input type='submit' className='button' value='Create Account'style={{width:'60%',minWidth:'200px',alignSelf:'center',marginTop:'20px'}}/>\n            </form>\n            )\n        }\n\n\n        return(\n            <div id='rooot'>\n                \n                <div className='code material-icons' onClick={()=>window.open('https://github.com/harivikneshs/superchat','_blank')}>code</div>\n                <div className='header'>\n                    <span style={{'backgroundColor':'white'}}>Super Chat</span>\n                </div>\n\n                <div className='lcard'>\n\n                    <div className='tabs'>\n                        <span className={this.state.login?'tab active':'tab'}onClick={(e)=>this.tabsw(e)}>Login</span>\n                        <span className={this.state.login?'tab':'tab active'} onClick={(e)=>this.tabsw(e)}>Sign Up</span>\n                    </div>\n                   {form}\n                   {this.state.error &&\n                   <div style={{margin:'10px',color:'red'}}>{this.state.error}</div>\n\n                   }\n                    \n\n                </div>\n\n            </div>\n                )\n    }\n}\n\nexport default Login","import React from 'react'\nimport{BrowserRouter as Router,Route} from 'react-router-dom'\nimport Chat from './Chatbox'\nimport Login from './Login'\n\n\n\n    \n\n\nclass App extends React.Component{\n\n    constructor(){\n        super()\n        this.state={'isAuth':localStorage.getItem('token')?true:false}\n        this.login=this.login.bind(this)\n    }\n\n    login(l){\n        this.setState({isAuth:l})\n    }\n\n    render(){\n        let comp\n        if(!this.state.isAuth)\n            comp=<Login login={this.login}/>\n        else\n            comp=<Chat login={this.login}/>\n\n        return(\n            <div>\n            {comp}\n            </div>\n\n            /*<Router>\n                <Route path='/' exact component={Login}/>\n                <Route path='/chat' component={Chat}/>\n            </Router>*/\n\n        )\n    }\n}\n\nexport default App;\n\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App/>,document.getElementById('root'));"],"sourceRoot":""}